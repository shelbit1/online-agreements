# Онлайн-договорённости

SaaS-сервис для фиксации договорённостей между двумя людьми в неформальном формате без участия юриста.

## Функционал

- ✅ Создание договорённости с уникальным кодом приглашения
- ✅ Присоединение второго участника по коду
- ✅ Чат между участниками
- ✅ Чек-лист условий договорённости с дедлайнами
- ✅ Подтверждение согласия от каждой стороны
- ⏳ Экспорт в PDF (планируется)
- ⏳ Напоминания о дедлайнах (планируется)

## Технологии

**Frontend:**
- Next.js 15
- TypeScript
- TailwindCSS
- date-fns

**Backend:**
- Next.js API Routes
- MongoDB + Mongoose

## Запуск локально

### 1. Установка зависимостей

\`\`\`bash
npm install
\`\`\`

### 2. Настройка базы данных

Установите MongoDB:

\`\`\`bash
# macOS
brew install mongodb-community

# Запуск MongoDB
brew services start mongodb-community
\`\`\`

Или используйте MongoDB Atlas (облачная версия).

### 3. Настройка переменных окружения

Создайте файл \`.env.local\` в корне проекта:

\`\`\`env
MONGODB_URI=mongodb://localhost:27017/online-agreements
\`\`\`

### 4. Запуск приложения

\`\`\`bash
npm run dev
\`\`\`

Приложение будет доступно по адресу [http://localhost:3000](http://localhost:3000)

## Использование

### Создание договорённости

1. Откройте главную страницу
2. Перейдите на вкладку "Создать договорённость"
3. Заполните название, описание, ваше имя и email
4. Нажмите "Создать договорённость"
5. Поделитесь кодом приглашения с другой стороной

### Присоединение к договорённости

1. Получите код приглашения от создателя
2. Перейдите на вкладку "Присоединиться"
3. Введите код приглашения, ваше имя и email
4. Нажмите "Присоединиться"

### Работа с договорённостью

- **Обсуждение**: Используйте чат для общения с другой стороной
- **Условия**: Добавляйте пункты в чек-лист с возможными дедлайнами
- **Согласие**: Когда все условия обсуждены, нажмите "Я согласен с условиями"
- **Подтверждение**: Когда обе стороны согласятся, договорённость будет подтверждена

## Структура проекта

\`\`\`
/
├── app/                          # Next.js App Router
│   ├── api/                      # API маршруты
│   │   └── agreements/           # API для договорённостей
│   ├── agreement/[id]/           # Страница договорённости
│   └── page.tsx                  # Главная страница
├── lib/                          # Утилиты и конфигурация
│   ├── api/                      # API клиент
│   ├── models/                   # Mongoose модели
│   ├── types/                    # TypeScript типы
│   ├── mongodb.ts                # Подключение к MongoDB
│   └── utils.ts                  # Вспомогательные функции
└── components/                   # React компоненты (будущие)
\`\`\`

## API Endpoints

- \`POST /api/agreements\` - Создать договорённость
- \`POST /api/agreements/join\` - Присоединиться к договорённости
- \`GET /api/agreements/[id]\` - Получить договорённость
- \`PUT /api/agreements/[id]\` - Обновить договорённость
- \`POST /api/agreements/[id]/chat\` - Добавить сообщение
- \`POST /api/agreements/[id]/checklist\` - Добавить пункт чек-листа
- \`POST /api/agreements/[id]/agree\` - Подтвердить согласие

## Особенности архитектуры

- **Без аутентификации**: Упрощённая модель без регистрации пользователей
- **Доступ по email**: Участники идентифицируются по email адресу
- **Локальное хранение**: Email участника сохраняется в localStorage
- **Простота**: Минималистичный UI с фокусом на функциональность

## Масштабирование

Архитектура подготовлена для будущего расширения:

- Добавление регистрации пользователей
- Интеграция с платёжными системами
- Командная работа над договорённостями
- REST API для мобильных приложений

## Лицензия

MIT
